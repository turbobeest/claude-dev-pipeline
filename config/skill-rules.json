{
  "version": "2.0",
  "activation_mode": "codeword",
  "description": "Codeword-based skill activation rules for Claude Code hooks",
  "skills": [
    {
      "skill": "pipeline-orchestration",
      "activation_code": "PIPELINE_ORCHESTRATION_V1",
      "phase": 0,
      "trigger_conditions": {
        "user_patterns": [
          "begin automated development",
          "start pipeline",
          "automate development",
          "run full pipeline",
          "phase 0 complete"
        ],
        "file_exists": ["PRD.md", ".taskmaster/docs/phase0-signoff.md"],
        "phase_state": "phase0_complete"
      },
      "outputs": {
        "signals": ["PIPELINE_STARTED"],
        "next_activation": "PRD_TO_TASKS_V1"
      },
      "priority": 1
    },
    {
      "skill": "prd-to-tasks",
      "activation_code": "PRD_TO_TASKS_V1",
      "phase": 1,
      "trigger_conditions": {
        "user_patterns": [
          "generate tasks",
          "parse prd",
          "create tasks",
          "task decomposition",
          "tasks.json",
          "product requirements",
          "requirements document"
        ],
        "file_patterns": [
          "PRD.md",
          "requirements.md",
          "product-requirements",
          "docs/PRD",
          "docs/requirements"
        ],
        "phase_state": "ready_for_phase1"
      },
      "outputs": {
        "files": ["tasks.json"],
        "signals": ["PHASE1_START", "TASKS_GENERATED"],
        "next_activation": "TASK_REVIEW_GATE_V1"
      },
      "priority": 2
    },
    {
      "skill": "task-review-gate",
      "activation_code": "TASK_REVIEW_GATE_V1",
      "phase": 1.2,
      "trigger_conditions": {
        "user_patterns": [
          "review tasks",
          "check tasks",
          "modify task",
          "refine tasks",
          "approve tasks"
        ],
        "signals_detected": ["TASKS_GENERATED"],
        "phase_state": "tasks_awaiting_review"
      },
      "outputs": {
        "files": ["tasks-reviewed.json"],
        "signals": ["TASKS_APPROVED", "TASKS_UNDER_REVIEW"],
        "next_activation": "COUPLING_ANALYSIS_V1"
      },
      "priority": 2.5,
      "interactive": true,
      "requires_human": true
    },
    {
      "skill": "coupling-analysis",
      "activation_code": "COUPLING_ANALYSIS_V1",
      "phase": 1.5,
      "trigger_conditions": {
        "user_patterns": [
          "task-master show",
          "taskmaster show",
          "tightly coupled",
          "loosely coupled",
          "parallel",
          "coupling",
          "proposal strategy",
          "analyze tasks"
        ],
        "file_patterns": [".taskmaster/tasks.json", "tasks.json"],
        "signals_detected": ["TASKS_APPROVED"],
        "phase_state": "tasks_approved"
      },
      "outputs": {
        "signals": ["COUPLING_ANALYZED"],
        "next_activation": "TASK_DECOMPOSER_V1"
      },
      "priority": 3
    },
    {
      "skill": "task-decomposer",
      "activation_code": "TASK_DECOMPOSER_V1",
      "phase": 1,
      "trigger_conditions": {
        "user_patterns": [
          "expand task",
          "analyze complexity",
          "generate subtasks",
          "break down task",
          "decompose task"
        ],
        "signals_detected": ["COUPLING_ANALYZED"],
        "phase_state": "coupling_complete"
      },
      "outputs": {
        "files": ["updated tasks.json"],
        "signals": ["PHASE1_COMPLETE"],
        "next_activation": "SPEC_GEN_V1"
      },
      "priority": 4
    },
    {
      "skill": "spec-gen",
      "activation_code": "SPEC_GEN_V1",
      "phase": 2,
      "trigger_conditions": {
        "user_patterns": [
          "openspec proposal",
          "create spec",
          "generate proposal",
          "specification",
          "requirements spec"
        ],
        "signals_detected": ["PHASE1_COMPLETE"],
        "phase_state": "ready_for_phase2"
      },
      "outputs": {
        "files": [".openspec/proposals/*.md"],
        "signals": ["PHASE2_SPECS_CREATED"],
        "next_activation": "TEST_STRATEGY_V1"
      },
      "priority": 5
    },
    {
      "skill": "test-strategy",
      "activation_code": "TEST_STRATEGY_V1",
      "phase": 2.5,
      "trigger_conditions": {
        "user_patterns": [
          "test strategy",
          "test plan",
          "TDD",
          "test coverage",
          "write tests",
          "testing approach"
        ],
        "file_patterns": [".openspec/proposals", "*.proposal.md"],
        "signals_detected": ["PHASE2_SPECS_CREATED"],
        "phase_state": "specs_created"
      },
      "outputs": {
        "signals": ["TEST_STRATEGY_COMPLETE"],
        "next_activation": "TDD_IMPLEMENTER_V1"
      },
      "priority": 6
    },
    {
      "skill": "tdd-implementer",
      "activation_code": "TDD_IMPLEMENTER_V1",
      "phase": 3,
      "trigger_conditions": {
        "user_patterns": [
          "implement",
          "write code",
          "TDD cycle",
          "red green refactor",
          "start coding",
          "build feature"
        ],
        "signals_detected": ["TEST_STRATEGY_COMPLETE"],
        "phase_state": "ready_for_phase3"
      },
      "outputs": {
        "files": ["src/**", "tests/**"],
        "signals": ["PHASE3_COMPLETE"],
        "next_activation": "INTEGRATION_VALIDATOR_V1"
      },
      "priority": 7
    },
    {
      "skill": "integration-validator",
      "activation_code": "INTEGRATION_VALIDATOR_V1",
      "phase": 4,
      "trigger_conditions": {
        "user_patterns": [
          "integration testing",
          "task #24",
          "task 24",
          "integration points",
          "system integration",
          "component integration"
        ],
        "file_patterns": ["architecture.md", "ARCHITECTURE.md"],
        "signals_detected": ["PHASE3_COMPLETE"],
        "phase_state": "implementation_complete"
      },
      "outputs": {
        "signals": ["PHASE4_COMPLETE"],
        "next_activation": "E2E_VALIDATOR_V1"
      },
      "priority": 8
    },
    {
      "skill": "e2e-validator",
      "activation_code": "E2E_VALIDATOR_V1",
      "phase": 5,
      "trigger_conditions": {
        "user_patterns": [
          "e2e testing",
          "end-to-end",
          "task #25",
          "task 25",
          "user workflows",
          "workflow testing"
        ],
        "signals_detected": ["PHASE4_COMPLETE"],
        "phase_state": "integration_complete"
      },
      "outputs": {
        "signals": ["PHASE5_COMPLETE", "GO_NO_GO_DECISION"],
        "next_activation": "DEPLOYMENT_ORCHESTRATOR_V1"
      },
      "priority": 9
    },
    {
      "skill": "deployment-orchestrator",
      "activation_code": "DEPLOYMENT_ORCHESTRATOR_V1",
      "phase": 6,
      "trigger_conditions": {
        "user_patterns": [
          "deploy",
          "production ready",
          "task #26",
          "task 26",
          "deployment",
          "go live"
        ],
        "signals_detected": ["PHASE5_COMPLETE", "GO_DECISION"],
        "phase_state": "approved_for_production"
      },
      "outputs": {
        "signals": ["PHASE6_COMPLETE", "DEPLOYED_TO_PRODUCTION"]
      },
      "priority": 10
    }
  ],
  "phase_transitions": {
    "PHASE0_COMPLETE": {
      "next_activation": "PIPELINE_ORCHESTRATION_V1",
      "auto_trigger": true,
      "requires_user_confirmation": false,
      "delay_seconds": 2
    },
    "PHASE1_START": {
      "next_activation": "TASK_REVIEW_GATE_V1",
      "auto_trigger": false,
      "delay_seconds": 1,
      "note": "Pauses for human review of generated tasks"
    },
    "TASKS_GENERATED": {
      "next_activation": "TASK_REVIEW_GATE_V1",
      "auto_trigger": true,
      "requires_human_review": true,
      "delay_seconds": 1
    },
    "TASKS_APPROVED": {
      "next_activation": "COUPLING_ANALYSIS_V1",
      "auto_trigger": true,
      "delay_seconds": 2,
      "note": "After approval, pipeline runs fully automatic"
    },
    "COUPLING_ANALYZED": {
      "next_activation": "TASK_DECOMPOSER_V1",
      "auto_trigger": true,
      "delay_seconds": 2
    },
    "PHASE1_COMPLETE": {
      "next_activation": "SPEC_GEN_V1",
      "auto_trigger": true,
      "delay_seconds": 2
    },
    "PHASE2_SPECS_CREATED": {
      "next_activation": "TEST_STRATEGY_V1",
      "auto_trigger": true,
      "delay_seconds": 2
    },
    "TEST_STRATEGY_COMPLETE": {
      "next_activation": "TDD_IMPLEMENTER_V1",
      "auto_trigger": true,
      "requires_user_confirmation": false,
      "delay_seconds": 2
    },
    "PHASE3_COMPLETE": {
      "next_activation": "INTEGRATION_VALIDATOR_V1",
      "auto_trigger": true,
      "delay_seconds": 2
    },
    "PHASE4_COMPLETE": {
      "next_activation": "E2E_VALIDATOR_V1",
      "auto_trigger": true,
      "delay_seconds": 2
    },
    "PHASE5_COMPLETE": {
      "next_activation": "DEPLOYMENT_ORCHESTRATOR_V1",
      "auto_trigger": true,
      "requires_user_confirmation": false,
      "approval_gate": "GO_NO_GO_DECISION",
      "delay_seconds": 2,
      "note": "Automatically proceeds to deployment setup and demo mode"
    }
  },
  "error_recovery": {
    "max_retries": 3,
    "retry_delay_seconds": 5,
    "fallback_to_manual": true,
    "error_signals": ["PHASE_ERROR", "SKILL_FAILURE"]
  },
  "notes": {
    "activation_mode": "Codeword-based activation using unique identifiers",
    "signal_flow": "Each skill emits signals that trigger next phase automatically",
    "human_gates": "ONE interactive review after task generation, then FULLY AUTOMATED",
    "review_gate": "After PRD-to-Tasks: Interactive review/refinement session before automation",
    "priority": "Lower number = higher priority (1 is highest)",
    "auto_trigger": "All transitions automatic after task approval",
    "automation_level": "Interactive task review, then 100% autonomous through deployment",
    "workflow": "PRD → Tasks → REVIEW GATE → Full Automation (Phases 1-6)"
  }
}